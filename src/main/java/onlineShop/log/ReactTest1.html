<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>ES6</h1>

<script type="text/javascript">
    // es - European Computer Manufactureters Association

    // es6
    // ie edge chrome firefox....
    //  -> issue: compatibility
    //  -> solution?
    //      babel -> compile
</script>

<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
    // ES5
    // //  var - define a variable
    // var a = 10;
    // var a = 20;
    // console.log(a); // ?
    //
    // // issue? -> 变量污染
    // // solution? -> ? ES5 IIFE
    // var b = 10;
    // (function () {
    //     var b = "haha";
    //     console.log('inner b -> ', b); //?
    // })();
    // //
    // console.log('outer b -> ', b); // ?
    //different scope: b within function is haha, then in global(window) is 10

    // solution -> ES6 -> block scope
    // ES5: global(window) function
    // ES6: extra: block  -> { }
    // if(10 < 15) {
    //     console.log('hehe')
    // }
    //
    // for(var i = 0; i < 2; i++) {
    //     console.log(i)
    // }
    //
    // function fn() {
    //     console.log('hello')
    // }
    //
    // {
    //     var a = 10;
    // }

    // let const

    // let
    //  1. the same scope,
    //   let cannot be declared more than once
    //   var can

    //  2. hoisting
    //    let x
    //    var ok
    // hoisting: declaration will do before initialization

    // global
    // var a = 1;
    // var a = 2;
    // console.log(a); // ? 2

    // let b = 10;
    // let b = 20; // ?
    // console.log(b);

    // function
    // function fn() {
    //     var a = 1;
    //     var a = 2;
    //     console.log(a);
    //
    //     let b = 10;
    //     // let b = 20; // ?
    //     console.log(b);
    // }
    //
    // let b = 20;
    // fn();
    //
    // console.log(b);

    // console.log(a); // ?
    // var a = 1;
    //
    // console.log(b); // b is not defined
    // let b = 2;

    // quiz
    // {
    //     let a = 10;
    //     console.log(a);
    // }
    // console.log(a); // not defined Error!!  no declaration yet!!

    // undefined -> special value
    // not defined -> reference error

    // for(var i = 0; i < 2; i++) {
    //     console.log(i);
    // }
    // console.log(i); // ?

    // var i = 0;
    // for(; i < 2; ) {
    //     console.log(i);
    //     i++;
    // }
    // console.log(i);

    // for(let i = 0; i < 2; i++) {
    //     console.log(i);
    // }
    // console.log(i); // ? error

    // let a = 10;
    // a = "haha";
    // console.log(a)

    // var arr = [];
    // // var i = 0;
    // for(let i = 0 ;i < 2; i++) {
    //         arr[i] = function() {
    //             console.log(i)
    //         }
    // }
    // // this will work !!!  save i in to arr[0] & arr[1]
    // console.log(arr);
    //
    // for(var j = 0; j < arr.length; j++) {
    //     arr[j](); // ?
    // }

    // const
    //  -> constant
    // const a = 123;
    // a = "hello world";
    // can't change!

    // var a;
    // console.log(a)
    //
    // const str;
    // str = 123;
    // console.log(str)
    // !  we have to give value when declare const!

    // const obj = {a: 1, b:2};
    // obj.a = "haha";
    // console.log(obj);
    // // works !
    // Object.freeze(obj);
    // obj.b = 100;
    // console.log(obj)
    // // freeze will freeze this

    // 2. Destructuring -> 赋值操作
    // var arr = [1, 2, 3];
    // var a = arr[0], b = arr[1], c = arr[2];
    // console.log(a, b, c)

    // let [a, b, c] = [1, 2];
    // c -> undefined

    // let obj = {name: 'Mike', age: 10};
    // let name = obj.name;
    // let age = obj.age;

    // let obj = {name: 'Mike', age: 10};
    // let {name, age} = obj; // let name = obj.name;
    // console.log(name)
    // obj.name = "John";
    // console.log(name)
    // print mike, mike. Because this will give the value to name & age. not ref !!!

    // function fn(arr) {
    //     for(let i = 0; i < arr.length; i++) {
    //         console.log(arr[i]);
    //     }
    // }
    //
    // fn([1, 2, 3])
    //
    // function fn1([a, b, c]) {
    //     console.log(a, b, c)
    // }
    //
    // fn1([6, 7, 8]);

    // 3. default + rest + spread
    // ES5
    // function add(a, b) {
    //     var x = a || 0;
    //     var y = b || 0;
    //     console.log(x + y);
    // }
    // //
    // add(); // ?

    // ES6
    // function minus(a = 0, b = 99) {
    //     console.log(a - b);
    // }
    //
    // minus();

    // ...
    //  - spread
    // let arr = [1, 2, 3];
    // let arr1 = [...arr, 4, 5]; // [1, 2, 3, 4, 5]
    //
    // let obj = {a:1, b:2};
    // let obj1 = {...obj, c:3}; //{a:1, b:2, c:3}

    // - rest
    // ES5
    // function fn() {
    //     console.log(arguments);
    // }
    //
    // fn(1, 2, 3, 4, 5);
    // fn();
    // fn(1, 2)
    // will print all arguments !!!

    // ES6
    // function fn1(...args) {
    //     console.log(args);
    // }
    //
    // fn1(1, 2, 3)
    // //need ...args to take all

    // 4. arrow function
    // () => {}

    // function add(a, b) {
    //     let res = a + b;
    //     return res;
    // }
    //
    // const addFn = (a, b) => {
    //     let res = a + b;
    //     return res;
    // }
    //
    // console.log(add(1, 2));
    // console.log(addFn(1, 2));

    // specail case1: 只有一条return, 可以省略{}
    // function add1(a, b) {
    //     return a + b;
    // }
    //
    // const addFn1 = (a, b) => a + b;
    //
    // console.log(addFn1(5, 6));

    // special case2: 只有一个参数，省略()
    // function display(str) {
    //     console.log(str)
    // }
    //
    // const display1 = str => {
    //     console.log(str);
    // }
    //
    // display1("hello react")

    // special case3: s.c1 + s.c2
    // function f(a) {
    //     return a * 2;
    // }
    //
    // const f1 = a => a * 2;
    // let res = f1(10); // ?
    //
    // const f2 = () => {
    //     console.log('haha')
    // }
    //
    // f2();
    //
    // var arr = [0, 10, 2, 6, 3];
    // arr.sort((a, b) => a - b);
    // // -1 in front, 0 mid , 1 end . like in java

    // fn vs arrow function
    // function fn() {
    //     console.log(arguments);
    // }
    //
    // fn(1, 2, 3);
    //
    // const fn1 = (...args) => {
    //     console.log(args)
    // }
    //
    // fn1(1, 2, 3)

    // this

    // arrow
    // this 由外层函数作用域决定
    // 没有arguments对象，用rest... 替代

    // function fn() {
    //     console.log('fn ', this);
    //
    //     const run = () => {
    //         console.log(this); // ?
    //         console.log(this.a);
    //     }
    //     run();
    // }
    //
    //
    // var item1 = {
    //     a : 1,
    //     fn : fn
    // }
    // var item2 = {
    //     a : 100,
    //     fn : fn
    // }
    //
    // item1.fn(); //?
    // item2.fn(); //?

    // !!!  arrow function, this will determine by upper layer !  this of normal function will be caller  !!!


    // var i = 0;
    //
    // var arr = [];
    // for(var i =0 ;i < 2; i++) {
    //     arr[i] = function() {
    //         console.log(i)
    //     }
    // }

    // for(var i = 0; i < 2; i++) {
    //     (function(j) {
    //         arr[j] = function() {
    //             console.log(j)
    //         }
    //         console.log(j)
    //     })(i)
    // }

    // 0, 1





    // for(var j = 0; j < arr.length; j++) {
    //     arr[j]();
    //     var fn = arr[j]
    //     fn()
    // }


    // how to create a class
    // Person class
    class Person {
        // not required
        // common attributes
        // initialize
        constructor(name, age, hobby) {
            this.name = name;
            this.age = age;
            this.hobby = hobby;
        }

        sayHello() {
            let str = 'my name is ' + this.name + ', I am ' + this.age + ' years old'
                + '. I like ' + this.hobby;

            // string template
            let str1 = `my name is ${this.name}, I am ${this.age} years old. I like ${this.hobby}`;
            console.log(str1);
        }
    }

    class Student extends Person {
        constructor(school) {
            super();
            this.school = school;
        }

        goToSchool () {
            let str = `this is ${this.name}, I go to ${this.school}`;
            console.log(str)
        }
    }

    // Dave -> name, age, hobby
    // Mike -> name, age, hobby
    let dave = new Person('Dave', 10, 'running');
    let mike = new Person('Mike', 12, 'basketball');

    let snoopy = new Student('snoopy', 12, 'swimming', 'primary school')
</script>
</body>
</html>